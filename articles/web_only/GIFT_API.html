<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Queries in the API â€¢ GIFT</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../../apple-touch-icon-60x60.png">
<script src="../../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../../deps/headroom-0.11.0/headroom.min.js"></script><script src="../../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../../deps/search-1.0.0/fuse.min.js"></script><script src="../../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../../pkgdown.js"></script><meta property="og:title" content="Queries in the API">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../../index.html">GIFT</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.3.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../../articles/GIFT.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../../articles/web_only/GIFT_advanced_users.html">GIFT tutorial for advanced users</a></li>
    <li><a class="dropdown-item" href="../../articles/web_only/GIFT_API.html">Queries in the API</a></li>
    <li><a class="dropdown-item" href="../../articles/web_only/Publication_records.html">Publication records</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/BioGeoMacro/GIFT/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">



<script src="GIFT_API_files/kePrint-0.0.1/kePrint.js"></script><link href="GIFT_API_files/lightable-0.0.1/lightable.css" rel="stylesheet">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../../logo.png" class="logo" alt=""><h1>Queries in the API</h1>
                        <h4 data-toc-skip class="author">Pierre Denelle
&amp; Patrick Weigelt</h4>
            
            <h4 data-toc-skip class="date">2025-04-09</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/BioGeoMacro/GIFT/blob/master/vignettes/web_only/GIFT_API.Rmd" class="external-link"><code>vignettes/web_only/GIFT_API.Rmd</code></a></small>
      <div class="d-none name"><code>GIFT_API.Rmd</code></div>
    </div>

    
    
<style>
body {
text-align: justify}
</style>
<p><img src="../../reference/figures/biodiv_gottingen_logo.png" width="20%"><img src="../../reference/figures/GIFT.png" width="20%"></p>
<p><br></p>
<p>This vignette shows how to work with the API, how it relates to the
GIFT R package, and how the R functions in the package are
interdependent.</p>
<p><br></p>
<div class="section level2">
<h2 id="api">API<a class="anchor" aria-label="anchor" href="#api"></a>
</h2>
<p>The API endpoint is <em><a href="https://gift.uni-goettingen.de/api/extended/index.php" class="external-link uri">https://gift.uni-goettingen.de/api/extended/index.php</a></em>.
We then have several queries, listed in the table below, that allow
retrieving distinct tables. The name in the Query column of the table
below has to be used as the query argument. As an example, here is the
query that leads to the environmental raster metadata table: <br><a href="https://gift.uni-goettingen.de/api/extended/index.php?query=env_raster" class="external-link uri">https://gift.uni-goettingen.de/api/extended/index.php?query=env_raster</a></p>
<p><br> Note that the endpoint changes depending on the version of GIFT
you are querying. For example, with the same table as above, we can
retrieve the table as it was in GIFT version 2.0: <br><a href="https://gift.uni-goettingen.de/api/extended/index2.0.php?query=env_raster" class="external-link uri">https://gift.uni-goettingen.de/api/extended/index2.0.php?query=env_raster</a></p>
<p><br> While this API does not require authentication, there is a
password-protected API leading to some restricted content in the
different tables. Restricted content can be,for example, some checklists
that need the approval of their provider before being used. This API can
be communicated upon request.</p>
<p><br> Here is the list of the 24 available queries, their arguments
and the GIFT R functions in which they are called. There is no
rate-limitation for any of these queries except for <em>species</em> and
<em>phylogeny</em>, which retrieves the data in chunks.</p>
<table class="table table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
Query
</th>
<th style="text-align:left;">
Arguments
</th>
<th style="text-align:left;">
R_function
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
checklists
</td>
<td style="text-align:left;">
listid (integer) , taxonid, namesmatched, filter
</td>
<td style="text-align:left;">
GIFT_checklists_raw()
</td>
</tr>
<tr>
<td style="text-align:left;">
env_misc
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
GIFT_env_meta_misc()
</td>
</tr>
<tr>
<td style="text-align:left;">
env_raster
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
GIFT_env_meta_raster()
</td>
</tr>
<tr>
<td style="text-align:left;">
geoentities_env_misc
</td>
<td style="text-align:left;">
envvar
</td>
<td style="text-align:left;">
GIFT_env()
</td>
</tr>
<tr>
<td style="text-align:left;">
geoentities_env_raster
</td>
<td style="text-align:left;">
layername, sumstat
</td>
<td style="text-align:left;">
GIFT_env()
</td>
</tr>
<tr>
<td style="text-align:left;">
lists
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
GIFT_lists(), GIFT_checklists_conditional(), GIFT_checklists()
</td>
</tr>
<tr>
<td style="text-align:left;">
names_matched
</td>
<td style="text-align:left;">
genus, epithet
</td>
<td style="text-align:left;">
GIFT_species_lookup()
</td>
</tr>
<tr>
<td style="text-align:left;">
names_matched_unique
</td>
<td style="text-align:left;">
genus, epithet
</td>
<td style="text-align:left;">
GIFT_species_lookup()
</td>
</tr>
<tr>
<td style="text-align:left;">
overlap
</td>
<td style="text-align:left;">
taxon, startat
</td>
<td style="text-align:left;">
GIFT_species_distribution(), GIFT_no_overlap(), GIFT_checklists()
</td>
</tr>
<tr>
<td style="text-align:left;">
overlap_misc
</td>
<td style="text-align:left;">
layer
</td>
<td style="text-align:left;">
GIFT_overlap()
</td>
</tr>
<tr>
<td style="text-align:left;">
phylogeny
</td>
<td style="text-align:left;">
taxon, startat, limit
</td>
<td style="text-align:left;">
GIFT_phylogeny()
</td>
</tr>
<tr>
<td style="text-align:left;">
references_citavi
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
GIFT_env_meta_raster(), GIFT_env_meta_misc()
</td>
</tr>
<tr>
<td style="text-align:left;">
references
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
GIFT_references()
</td>
</tr>
<tr>
<td style="text-align:left;">
reference_traits
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
GIFT_traits_raw()
</td>
</tr>
<tr>
<td style="text-align:left;">
regions
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
GIFT_regions()
</td>
</tr>
<tr>
<td style="text-align:left;">
species
</td>
<td style="text-align:left;">
startat, limit
</td>
<td style="text-align:left;">
GIFT_species()
</td>
</tr>
<tr>
<td style="text-align:left;">
species_distr
</td>
<td style="text-align:left;">
nameid
</td>
<td style="text-align:left;">
GIFT_species_distribution()
</td>
</tr>
<tr>
<td style="text-align:left;">
species_num
</td>
<td style="text-align:left;">
taxonid
</td>
<td style="text-align:left;">
GIFT_richness()
</td>
</tr>
<tr>
<td style="text-align:left;">
taxonomy
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
GIFT_taxonomy(), GIFT_taxgroup(), GIFT_richness(),
GIFT_checklists_raw(), GIFT_checklists(), GIFT_checklists_conditional()
</td>
</tr>
<tr>
<td style="text-align:left;">
traits
</td>
<td style="text-align:left;">
traitid, biasref, biasderiv, startat, limit
</td>
<td style="text-align:left;">
GIFT_traits()
</td>
</tr>
<tr>
<td style="text-align:left;">
traits_cov
</td>
<td style="text-align:left;">
traitid, taxonid
</td>
<td style="text-align:left;">
GIFT_richness()
</td>
</tr>
<tr>
<td style="text-align:left;">
traits_meta
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
GIFT_traits_meta()
</td>
</tr>
<tr>
<td style="text-align:left;">
traits_raw
</td>
<td style="text-align:left;">
traitid, deriv, biasderiv, refid
</td>
<td style="text-align:left;">
GIFT_traits_raw()
</td>
</tr>
<tr>
<td style="text-align:left;">
versions
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
All GIFT functions
</td>
</tr>
</tbody>
</table>
<p><br> Some more details:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Query for trait and chunks</span></span>
<span><span class="co"># Default value for end is 10000</span></span>
<span><span class="co"># https://gift.uni-goettingen.de/api/extended/index.php?query=traits&amp;</span></span>
<span><span class="co"># traitid=1.1.1&amp;biasref=1&amp;biasderiv=1&amp;startat=100000&amp;limit=10</span></span>
<span></span>
<span><span class="co"># To retrieve the geojson</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"https://gift.uni-goettingen.de/geojson/geojson_smaller"</span>, </span>
<span>       <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">GIFT_version</span> <span class="op">==</span> <span class="st">"beta"</span>, <span class="st">""</span>, <span class="va">GIFT_version</span><span class="op">)</span>, <span class="st">"/"</span>,</span>
<span>       <span class="va">entity_ID</span><span class="op">[</span><span class="va">i</span><span class="op">]</span>, <span class="st">".geojson"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="dependency-graph-of-r-functions">Dependency graph of R functions<a class="anchor" aria-label="anchor" href="#dependency-graph-of-r-functions"></a>
</h2>
<p>Arrows in the figure below connect interdependent functions,
i.e.Â functions that call other functions. Function names are colored
according to the larger category to which they belong. <br></p>
<p><img src="../../reference/figures/GIFT_network_functions.png" width="100%"></p>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<p>Denelle, P., Weigelt, P., &amp; Kreft, H. (2023). GIFTâ€”An R package
to access the Global Inventory of Floras and Traits. <em>Methods in
Ecology and Evolution</em>, 00, 1â€“11. <a href="https://doi.org/10.1111/2041-210X.14213" class="external-link">https://doi.org/10.1111/2041-210X.14213</a>.</p>
<p>Weigelt, P., KÃ¶nig, C. &amp; Kreft, H. (2020) GIFT â€“ A Global
Inventory of Floras and Traits for macroecology and biogeography.
<em>Journal of Biogeography</em>, <a href="https://doi.org/10.1111/jbi.13623" class="external-link">https://doi.org/10.1111/jbi.13623</a>.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Pierre Denelle, Patrick Weigelt.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
