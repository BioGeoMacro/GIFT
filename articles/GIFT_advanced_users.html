<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="GIFT">
<title>GIFT tutorial for advanced users • GIFT</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="GIFT tutorial for advanced users">
<meta property="og:description" content="GIFT">
<meta property="og:image" content="https://biogeomacro.github.io/GIFT/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">GIFT</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/GIFT.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/GIFT_API.html">Queries in the API</a>
    <a class="dropdown-item" href="../articles/GIFT_advanced_users.html">GIFT tutorial for advanced users</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/BioGeoMacro/GIFT/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="GIFT_advanced_users_files/kePrint-0.0.1/kePrint.js"></script><link href="GIFT_advanced_users_files/lightable-0.0.1/lightable.css" rel="stylesheet">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>GIFT tutorial for advanced users</h1>
                        <h4 data-toc-skip class="author">Pierre Denelle
&amp; Patrick Weigelt</h4>
            
            <h4 data-toc-skip class="date">2023-03-08</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/BioGeoMacro/GIFT/blob/HEAD/vignettes/GIFT_advanced_users.Rmd" class="external-link"><code>vignettes/GIFT_advanced_users.Rmd</code></a></small>
      <div class="d-none name"><code>GIFT_advanced_users.Rmd</code></div>
    </div>

    
    
<style>
body {
text-align: justify}
</style>
<p><img src="../reference/figures/biodiv_gottingen_logo.png" width="20%" style="display: block; margin: auto;"><img src="../reference/figures/GIFT.png" width="20%" style="display: block; margin: auto;"></p>
<p><br></p>
<p>This vignette documents some functions and specificities that were
not presented in the <a href="https://biogeomacro.github.io/GIFT/articles/GIFT.html">main
vignette</a> of the package. It is mainly targeted for advanced users of
the GIFT database.</p>
<div class="section level2">
<h2 id="versions-and-metadata-for-checklists">1. Versions and metadata for checklists<a class="anchor" aria-label="anchor" href="#versions-and-metadata-for-checklists"></a>
</h2>
<p>In all the functions from the package, there is a
<code>version</code> argument. This argument allows for retrieving
different instances of the GIFT database and therefore make all previous
studies using the GIFT database reproducible. For example, the version
used in <span class="citation">(Weigelt, König, and Kreft 2020)</span>
is <code>"1.0"</code>. To get more information about the content of the
different versions, you can go <a href="https://gift.uni-goettingen.de/about" class="external-link">here</a> and click on the
tab Version Log.</p>
<p>To access all the available versions of the database, you can run the
following function:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">versions</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GIFT_versions.html">GIFT_versions</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu">kable</span><span class="op">(</span><span class="va">versions</span>, <span class="st">"html"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">kable_styling</span><span class="op">(</span>full_width <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<table class="table table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
ID
</th>
<th style="text-align:left;">
version
</th>
<th style="text-align:left;">
description
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
1.0
</td>
<td style="text-align:left;">
Data included in and workflows used to assemble GIFT 1.0 are described
in detail in: Weigelt, P., König, C. &amp; Kreft, H. (2020) GIFT – A
Global Inventory of Floras and Traits for macroecology and biogeography.
Journal of Biogeography, 47, 16-43. doi: 10.1111/jbi.13623
</td>
</tr>
<tr>
<td style="text-align:left;">
2
</td>
<td style="text-align:left;">
2.0
</td>
<td style="text-align:left;">
New checklist and trait data included for Europe, the Mediterranean,
temperate Asia, Panama, Japan, Java, New Zealand, Easter Island and the
Torres Strait Islands. Updated workflows to document biases in the
distribution of trait data; Updated taxonomic trait derivation; Final
trait values and agreement scores for trait values from several
resources are now calculated separately including and excluding
restricted resources.
</td>
</tr>
<tr>
<td style="text-align:left;">
3
</td>
<td style="text-align:left;">
2.1
</td>
<td style="text-align:left;">
New checklists and traits included for the Americas, Crimea, Madagascar,
Arabian peninsula, Laos, Bhutan, India, China, Sunda-Sahul shelf, Tonga,
Canary Islands, West Africa and for ferns and palms globally. Large
categorical trait data included from Try.
</td>
</tr>
<tr>
<td style="text-align:left;">
4
</td>
<td style="text-align:left;">
2.2
</td>
<td style="text-align:left;">
New checklists (with a focus on endemic species) and traits for various
oceanic archipelagos (Cook Islands, Madeira, Arctic Islands, Cayman
Islands, Comores, Juan Fernandez, Palau, Galapagos, Frisian Islands,
Antilles, Japan, Mayotte, Fiji, Taiwan, etc.) and various mainland
regions (Equatorial Guinea and the entire former USSR in sub-regions).
</td>
</tr>
</tbody>
</table>
<p>The column <code>version</code> of this table is the one to use when
you want to retrieve past versions of the GIFT database. By default, the
argument used is <code>GIFT_version = "latest"</code> which leads to the
current latest stable version of the database (“2.0” in October
2022).</p>
<p>The function <code><a href="../reference/GIFT_lists.html">GIFT_lists()</a></code> can be run to retrieve
metadata about the GIFT checklists. In the next chunk, we call it with
different values for the <code>GIFT_version</code> argument.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">list_latest</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GIFT_lists.html">GIFT_lists</a></span><span class="op">(</span>GIFT_version <span class="op">=</span> <span class="st">"latest"</span><span class="op">)</span> <span class="co"># default value</span></span>
<span><span class="va">list_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GIFT_lists.html">GIFT_lists</a></span><span class="op">(</span>GIFT_version <span class="op">=</span> <span class="st">"1.0"</span><span class="op">)</span></span></code></pre></div>
<p>The number of checklists available was 3122 in the version 1.0 and
equals 4475 in the version 2.0.</p>
<p><br></p>
</div>
<div class="section level2">
<h2 id="references">2. References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<p>When using GIFT database in a research article, it is a good practice
to cite the references used, and list them in an Appendix. The following
function retrieves the reference for each checklist, as well as some
metadata. References are documented in the column
<code>ref_long</code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ref</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GIFT_references.html">GIFT_references</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 3 first rows of that table</span></span>
<span><span class="fu">kable</span><span class="op">(</span><span class="va">ref</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ref_ID"</span>, <span class="st">"ref_long"</span>, <span class="st">"geo_entity_ref"</span><span class="op">)</span><span class="op">]</span>, <span class="st">"html"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">kable_styling</span><span class="op">(</span>full_width <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<table class="table table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:right;">
ref_ID
</th>
<th style="text-align:left;">
ref_long
</th>
<th style="text-align:left;">
geo_entity_ref
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Kenneally (1993) Ashmore Reef and Cartier Island. Available at: <a href="http://www.environment.gov.au/biodiversity/abrs/online-resources/flora/50/index.html" class="external-link uri">http://www.environment.gov.au/biodiversity/abrs/online-resources/flora/50/index.html</a>,
last accessed 6 April 2011.
</td>
<td style="text-align:left;">
Ashmore Reef and Cartier Island
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
Christmas Island National Park (2002) Third Christmas Island national
park management plan. Parks Australia North, Christmas Island,
Australia, 175p.
</td>
<td style="text-align:left;">
Christmas Island National Park
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
Du Puy (1993) Christmas Island. Available at: <a href="http://www.anbg.gov.au/abrs/online-resources/flora/" class="external-link uri">http://www.anbg.gov.au/abrs/online-resources/flora/</a>,
last accessed 6 April 2011.
</td>
<td style="text-align:left;">
Christmas Island
</td>
</tr>
</tbody>
</table>
<p><br></p>
</div>
<div class="section level2">
<h2 id="checklist-data">3. Checklist data<a class="anchor" aria-label="anchor" href="#checklist-data"></a>
</h2>
<p>The main wrapper function to retrieve checklists and their species
composition is <code><a href="../reference/GIFT_checklists.html">GIFT_checklists()</a></code> but you also have the
possibility to retrieve individual checklists using
<code><a href="../reference/GIFT_checklists_raw.html">GIFT_checklists_raw()</a></code>. You would need to know the
identification number <code>list_ID</code> of the checklists you want to
retrieve. <br> To quickly see all the <code>list_ID</code> available in
the database, you can run:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gift_lists</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GIFT_lists.html">GIFT_lists</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">gift_lists</span><span class="op">$</span><span class="va">list_ID</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 4475</span></span></code></pre>
<p><br> When calling <code><a href="../reference/GIFT_checklists_raw.html">GIFT_checklists_raw()</a></code>, you can set the
argument <code>namesmatched</code> to <code>TRUE</code> in order to get
extra columns informing about the taxonomic harmonization that was
performed when uploading the list to GIFT database.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">listID_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GIFT_checklists_raw.html">GIFT_checklists_raw</a></span><span class="op">(</span>list_ID <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">11926</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">listID_1_tax</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GIFT_checklists_raw.html">GIFT_checklists_raw</a></span><span class="op">(</span>list_ID <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">11926</span><span class="op">)</span>, namesmatched <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">listID_1</span><span class="op">)</span>; <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">listID_1_tax</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 16</span></span></code></pre>
<pre><code><span><span class="co">## [1] 33</span></span></code></pre>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">listID_1</span><span class="op">$</span><span class="va">work_ID</span><span class="op">)</span><span class="op">)</span>; <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">listID_1_tax</span><span class="op">$</span><span class="va">orig_ID</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 1106</span></span></code></pre>
<pre><code><span><span class="co">## [1] 1331</span></span></code></pre>
<p>In the list we called, you can see that we “lost” some species after
taxonomic harmonization as we went from 1331 in the source to 1106 after
the taxonomic harmonization. This means that several species were
considered as synonyms or unknown plant species in the taxonomic
backbone used for harmonization. <br><br><em>Note: the service mainly
used to taxonomically harmonize the species’ names</em> <em>was The
Plant List up to version 2.0 and World checklist of Vascular Plants</em>
<em>afterwards.</em></p>
<p><br></p>
</div>
<div class="section level2">
<h2 id="spatial-subset">4. Spatial subset<a class="anchor" aria-label="anchor" href="#spatial-subset"></a>
</h2>
<p>In the <a href="https://biogeomacro.github.io/GIFT/articles/GIFT.html">main
vignette</a>, we illustrated how to retrieve checklists that were
falling into a provided shapefile, using the western Mediterranean basin
provided with the GIFT R package.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"western_mediterranean"</span><span class="op">)</span></span></code></pre></div>
<p>We here provide more details on the different values the
<code>overlap</code> argument can take, using the function
<code><a href="../reference/GIFT_spatial.html">GIFT_spatial()</a></code>. The following figure illustrates how this
argument works:</p>
<br><div class="figure" style="text-align: center">
<img src="../reference/figures/GIFT_spatial.svg" alt="Figure 1. GIFT spatial" width="50%"><p class="caption">
Figure 1. GIFT spatial
</p>
</div>
<p><br></p>
<p>We now illustrate this by retrieving checklists falling in the
western Mediterranean basin using the four options available.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">med_centroid_inside</span>  <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GIFT_spatial.html">GIFT_spatial</a></span><span class="op">(</span>shp <span class="op">=</span> <span class="va">western_mediterranean</span>,</span>
<span>                                     overlap <span class="op">=</span> <span class="st">"centroid_inside"</span><span class="op">)</span></span>
<span><span class="va">med_extent_intersect</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GIFT_spatial.html">GIFT_spatial</a></span><span class="op">(</span>shp <span class="op">=</span> <span class="va">western_mediterranean</span>,</span>
<span>                                     overlap <span class="op">=</span> <span class="st">"extent_intersect"</span><span class="op">)</span></span>
<span><span class="va">med_shape_intersect</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GIFT_spatial.html">GIFT_spatial</a></span><span class="op">(</span>shp <span class="op">=</span> <span class="va">western_mediterranean</span>,</span>
<span>                                    overlap <span class="op">=</span> <span class="st">"shape_intersect"</span><span class="op">)</span></span>
<span><span class="va">med_shape_inside</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GIFT_spatial.html">GIFT_spatial</a></span><span class="op">(</span>shp <span class="op">=</span> <span class="va">western_mediterranean</span>,</span>
<span>                                 overlap <span class="op">=</span> <span class="st">"shape_inside"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">med_extent_intersect</span><span class="op">$</span><span class="va">entity_ID</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 108</span></span></code></pre>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">med_shape_intersect</span><span class="op">$</span><span class="va">entity_ID</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 104</span></span></code></pre>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">med_centroid_inside</span><span class="op">$</span><span class="va">entity_ID</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 84</span></span></code></pre>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">med_shape_inside</span><span class="op">$</span><span class="va">entity_ID</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 72</span></span></code></pre>
<p>We here see that we progressively lose lists as we apply more
selective criterion on the spatial overlap. The most restrictive option
being <code>overlap = "shape_inside"</code> and the less restrictive one
being <code>overlap = "extent_intersect"</code>. <br> Using the
functions <code><a href="../reference/GIFT_shapes.html">GIFT_shapes()</a></code> and calling it for the entity_IDs
retrieved in each instance, we can download the shapefiles for each
region.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">geodata_extent_intersect</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GIFT_shapes.html">GIFT_shapes</a></span><span class="op">(</span><span class="va">med_extent_intersect</span><span class="op">$</span><span class="va">entity_ID</span><span class="op">)</span></span>
<span></span>
<span><span class="va">geodata_shape_inside</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">geodata_extent_intersect</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">geodata_extent_intersect</span><span class="op">$</span><span class="va">entity_ID</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span></span>
<span>                                   <span class="va">med_shape_inside</span><span class="op">$</span><span class="va">entity_ID</span><span class="op">)</span>, <span class="op">]</span></span>
<span><span class="va">geodata_centroid_inside</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">geodata_extent_intersect</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">geodata_extent_intersect</span><span class="op">$</span><span class="va">entity_ID</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span></span>
<span>                                   <span class="va">med_centroid_inside</span><span class="op">$</span><span class="va">entity_ID</span><span class="op">)</span>, <span class="op">]</span></span>
<span><span class="va">geodata_shape_intersect</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">geodata_extent_intersect</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">geodata_extent_intersect</span><span class="op">$</span><span class="va">entity_ID</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span></span>
<span>                                   <span class="va">med_shape_intersect</span><span class="op">$</span><span class="va">entity_ID</span><span class="op">)</span>, <span class="op">]</span></span></code></pre></div>
<p>And then make a map.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span>, mai <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0.5</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html" class="external-link">st_geometry</a></span><span class="op">(</span><span class="va">geodata_shape_inside</span><span class="op">)</span>,</span>
<span>     col <span class="op">=</span> <span class="va">geodata_shape_inside</span><span class="op">$</span><span class="va">entity_ID</span>,</span>
<span>     main <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"shape inside\n"</span>,</span>
<span>                  <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">med_shape_inside</span><span class="op">$</span><span class="va">entity_ID</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                  <span class="st">"polygons"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html" class="external-link">st_geometry</a></span><span class="op">(</span><span class="va">western_mediterranean</span><span class="op">)</span>, lwd <span class="op">=</span> <span class="fl">2</span>, add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html" class="external-link">st_geometry</a></span><span class="op">(</span><span class="va">geodata_centroid_inside</span><span class="op">)</span>,</span>
<span>     col <span class="op">=</span> <span class="va">geodata_centroid_inside</span><span class="op">$</span><span class="va">entity_ID</span>,</span>
<span>     main <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"centroid inside\n"</span>,</span>
<span>                  <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">med_centroid_inside</span><span class="op">$</span><span class="va">entity_ID</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                  <span class="st">"polygons"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/points.html" class="external-link">points</a></span><span class="op">(</span><span class="va">geodata_centroid_inside</span><span class="op">$</span><span class="va">point_x</span>, <span class="va">geodata_centroid_inside</span><span class="op">$</span><span class="va">point_y</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html" class="external-link">st_geometry</a></span><span class="op">(</span><span class="va">western_mediterranean</span><span class="op">)</span>, lwd <span class="op">=</span> <span class="fl">2</span>, add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html" class="external-link">st_geometry</a></span><span class="op">(</span><span class="va">geodata_shape_intersect</span><span class="op">)</span>,</span>
<span>     col <span class="op">=</span> <span class="va">geodata_shape_intersect</span><span class="op">$</span><span class="va">entity_ID</span>,</span>
<span>     main <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"shape intersect\n"</span>,</span>
<span>                  <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">med_shape_intersect</span><span class="op">$</span><span class="va">entity_ID</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                  <span class="st">"polygons"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html" class="external-link">st_geometry</a></span><span class="op">(</span><span class="va">western_mediterranean</span><span class="op">)</span>, lwd <span class="op">=</span> <span class="fl">2</span>, add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html" class="external-link">st_geometry</a></span><span class="op">(</span><span class="va">geodata_extent_intersect</span><span class="op">)</span>,</span>
<span>     col <span class="op">=</span> <span class="va">geodata_extent_intersect</span><span class="op">$</span><span class="va">entity_ID</span>,</span>
<span>     main <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"extent intersect\n"</span>,</span>
<span>                  <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">med_extent_intersect</span><span class="op">$</span><span class="va">entity_ID</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                  <span class="st">"polygons"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html" class="external-link">st_geometry</a></span><span class="op">(</span><span class="va">western_mediterranean</span><span class="op">)</span>, lwd <span class="op">=</span> <span class="fl">2</span>, add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="GIFT_advanced_users_files/figure-html/unnamed-chunk-13-1.png" width="768" style="display: block; margin: auto;"></p>
<p><br></p>
</div>
<div class="section level2">
<h2 id="remove-overlapping-regions">5. Remove overlapping regions<a class="anchor" aria-label="anchor" href="#remove-overlapping-regions"></a>
</h2>
<p>GIFT comprises many polygons and for some regions, there are several
polygons overlapping. How to remove overlapping polygons and the
associated parameters are two things detailed in the <a href="https://biogeomacro.github.io/GIFT/articles/GIFT.html">main
vignette</a>. We here provide further details:</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">med_shape_inside</span><span class="op">$</span><span class="va">entity_ID</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 72</span></span></code></pre>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="../reference/GIFT_no_overlap.html">GIFT_no_overlap</a></span><span class="op">(</span><span class="va">med_shape_inside</span><span class="op">$</span><span class="va">entity_ID</span>, area_threshold_island <span class="op">=</span> <span class="fl">0</span>,</span>
<span>                       area_threshold_mainland <span class="op">=</span> <span class="fl">100</span>, overlap_threshold <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 53</span></span></code></pre>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># The following polygons are overlapping:</span></span>
<span><span class="fu"><a href="../reference/GIFT_no_overlap.html">GIFT_no_overlap</a></span><span class="op">(</span><span class="va">med_shape_inside</span><span class="op">$</span><span class="va">entity_ID</span>, area_threshold_island <span class="op">=</span> <span class="fl">0</span>,</span>
<span>                area_threshold_mainland <span class="op">=</span> <span class="fl">100</span>, overlap_threshold <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##  [1]   145   146   147   148   149   150   151   414   415   416   417   547</span></span>
<span><span class="co">## [13]   548   549   550   551   552   586   591   592   736   738   739 10001</span></span>
<span><span class="co">## [25] 10072 10104 10184 10303 10422 10430 10978 11029 11030 11031 11033 11035</span></span>
<span><span class="co">## [37] 11038 11039 11042 11044 11045 11046 11434 11474 11477 11503 12231 12232</span></span>
<span><span class="co">## [49] 12233 12632 12633 12634 12635</span></span></code></pre>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Example of two overlapping polygons: Spain mainland and Andalusia</span></span>
<span><span class="va">overlap_shape</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GIFT_shapes.html">GIFT_shapes</a></span><span class="op">(</span>entity_ID <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10071</span>, <span class="fl">12078</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## ================================================================================</span></span></code></pre>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html" class="external-link">st_geometry</a></span><span class="op">(</span><span class="va">overlap_shape</span><span class="op">)</span>,</span>
<span>     col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/grDevices/rgb.html" class="external-link">rgb</a></span><span class="op">(</span>red <span class="op">=</span> <span class="fl">1</span>, green <span class="op">=</span> <span class="fl">0</span>, blue <span class="op">=</span> <span class="fl">0</span>, alpha <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span>,</span>
<span>             <span class="fu"><a href="https://rdrr.io/r/grDevices/rgb.html" class="external-link">rgb</a></span><span class="op">(</span>red <span class="op">=</span> <span class="fl">0</span>, green <span class="op">=</span> <span class="fl">0</span>, blue <span class="op">=</span> <span class="fl">1</span>, alpha <span class="op">=</span> <span class="fl">0.3</span><span class="op">)</span><span class="op">)</span>,</span>
<span>     lwd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>     main <span class="op">=</span> <span class="st">"Overlapping polygons"</span><span class="op">)</span></span></code></pre></div>
<p><img src="GIFT_advanced_users_files/figure-html/unnamed-chunk-14-1.png" width="960" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/GIFT_no_overlap.html">GIFT_no_overlap</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10071</span>, <span class="fl">12078</span><span class="op">)</span>, area_threshold_island <span class="op">=</span> <span class="fl">0</span>,</span>
<span>                area_threshold_mainland <span class="op">=</span> <span class="fl">100</span>, overlap_threshold <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 12078</span></span></code></pre>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/GIFT_no_overlap.html">GIFT_no_overlap</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10071</span>, <span class="fl">12078</span><span class="op">)</span>, area_threshold_island <span class="op">=</span> <span class="fl">0</span>,</span>
<span>                area_threshold_mainland <span class="op">=</span> <span class="fl">100000</span>, overlap_threshold <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 10071</span></span></code></pre>
<p><br></p>
<div class="section level3">
<h3 id="by-ref_id">5.2. By ref_ID<a class="anchor" aria-label="anchor" href="#by-ref_id"></a>
</h3>
<p>In <code><a href="../reference/GIFT_checklists.html">GIFT_checklists()</a></code>, there is also the possibility to
remove overlapping polygons only if they belong to the same reference
(i.e. same <code>ref_ID</code>).<br><br> We show how this works with the following example:</p>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ex</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GIFT_checklists.html">GIFT_checklists</a></span><span class="op">(</span>taxon_name <span class="op">=</span> <span class="st">"Tracheophyta"</span>, by_ref_ID <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>                      list_set_only <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">ex2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GIFT_checklists.html">GIFT_checklists</a></span><span class="op">(</span>taxon_name <span class="op">=</span> <span class="st">"Tracheophyta"</span>,</span>
<span>                       remove_overlap <span class="op">=</span> <span class="cn">TRUE</span>, by_ref_ID <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                       list_set_only <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">ex3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GIFT_checklists.html">GIFT_checklists</a></span><span class="op">(</span>taxon_name <span class="op">=</span> <span class="st">"Tracheophyta"</span>,</span>
<span>                       remove_overlap <span class="op">=</span> <span class="cn">TRUE</span>, by_ref_ID <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>                       list_set_only <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">ex</span><span class="op">$</span><span class="va">lists</span><span class="op">$</span><span class="va">ref_ID</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 367</span></span></code></pre>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">ex2</span><span class="op">$</span><span class="va">lists</span><span class="op">$</span><span class="va">ref_ID</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 360</span></span></code></pre>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">ex3</span><span class="op">$</span><span class="va">lists</span><span class="op">$</span><span class="va">ref_ID</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 335</span></span></code></pre>
<p>Asking for checklists of vascular plants, we get 367 checklists
without any overlapping criterion, 335 if we remove overlapping polygons
and 360 if we remove overlapping polygons at the reference level.<br><br> So what is the difference between the second and third case?<br>
Let’s look at the checklists that are present in the second but not in
the third example.</p>
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">ex2</span><span class="op">$</span><span class="va">lists</span><span class="op">$</span><span class="va">ref_ID</span><span class="op">)</span><span class="op">[</span><span class="op">!</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">ex2</span><span class="op">$</span><span class="va">lists</span><span class="op">$</span><span class="va">ref_ID</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span></span>
<span>                             <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">ex3</span><span class="op">$</span><span class="va">lists</span><span class="op">$</span><span class="va">ref_ID</span><span class="op">)</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">##  [1]     4   151   184   242 10034 10079 10118 10141 10143 10170 10171 10173</span></span>
<span><span class="co">## [13] 10194 10212 10216 10249 10266 10283 10304 10306 10317 10329 10334 10358</span></span>
<span><span class="co">## [25] 10616</span></span></code></pre>
<p>If we look at the <code>ref_ID = 10143</code>, we see that it is a
checklist for the Pilbara region in Australia. Its
<code>entity_ID</code> is 10043. Looking at the GIFT website, we see
that other regions can overlap with it.<br><br></p>
<div class="sourceCode" id="cb45"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Pilbara region Australy and overlapping shapes</span></span>
<span><span class="va">pilbara</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GIFT_shapes.html">GIFT_shapes</a></span><span class="op">(</span>entity_ID <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10043</span>, <span class="fl">12172</span>, <span class="fl">11398</span>, <span class="fl">11391</span>, <span class="fl">10918</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## ================================================================================</span></span></code></pre>
<div class="sourceCode" id="cb47"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">pilbara</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">geom_sf</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">entity_ID</span><span class="op">)</span><span class="op">)</span>, alpha <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html" class="external-link">scale_fill_brewer</a></span><span class="op">(</span><span class="st">"entity_ID"</span>, palette <span class="op">=</span> <span class="st">"Set1"</span><span class="op">)</span></span></code></pre></div>
<p><img src="GIFT_advanced_users_files/figure-html/unnamed-chunk-17-1.png" width="768" style="display: block; margin: auto;"></p>
<p>Since these polygons do not belong to the same <code>ref_ID</code>,
they are kept when <code>by_ref_ID = TRUE</code> but are not considered
when <code>by_ref_ID = FALSE</code>.</p>
</div>
</div>
<div class="section level2">
<h2 id="species">6. Species<a class="anchor" aria-label="anchor" href="#species"></a>
</h2>
<p>All the plant species present in GIFT database can be retrieved using
<code><a href="../reference/GIFT_species.html">GIFT_species()</a></code>. To add additional information, like their
order or family, we can call <code><a href="../reference/GIFT_taxgroup.html">GIFT_taxgroup()</a></code>.</p>
<div class="sourceCode" id="cb48"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">species</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GIFT_species.html">GIFT_species</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co"># Add Family</span></span>
<span><span class="va">species</span><span class="op">$</span><span class="va">Family</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GIFT_taxgroup.html">GIFT_taxgroup</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">species</span><span class="op">$</span><span class="va">work_ID</span><span class="op">)</span>, taxon_lvl <span class="op">=</span> <span class="st">"family"</span>, return_ID <span class="op">=</span> <span class="cn">FALSE</span>, </span>
<span>  species <span class="op">=</span> <span class="va">species</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">kable</span><span class="op">(</span><span class="va">species</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="op">]</span>, <span class="st">"html"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">kable_styling</span><span class="op">(</span>full_width <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<table class="table table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:right;">
work_ID
</th>
<th style="text-align:right;">
genus_ID
</th>
<th style="text-align:left;">
work_genus
</th>
<th style="text-align:left;">
work_species
</th>
<th style="text-align:left;">
work_author
</th>
<th style="text-align:left;">
Family
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
950
</td>
<td style="text-align:left;">
Aaronsohnia
</td>
<td style="text-align:left;">
Aaronsohnia pubescens
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Asteraceae
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
951
</td>
<td style="text-align:left;">
Abacopteris
</td>
<td style="text-align:left;">
Abacopteris lineata
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Thelypteridaceae
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
952
</td>
<td style="text-align:left;">
Abarema
</td>
<td style="text-align:left;">
Abarema abbottii
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Fabaceae
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
952
</td>
<td style="text-align:left;">
Abarema
</td>
<td style="text-align:left;">
Abarema alexandri
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Fabaceae
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
952
</td>
<td style="text-align:left;">
Abarema
</td>
<td style="text-align:left;">
Abarema asplenifolia
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Fabaceae
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb49"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/GIFT_taxgroup.html">GIFT_taxgroup</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">species</span><span class="op">$</span><span class="va">work_ID</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span><span class="op">)</span>, taxon_lvl <span class="op">=</span> <span class="st">"order"</span>,</span>
<span>              return_ID <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "Asterales"    "Polypodiales" "Fabales"      "Fabales"      "Fabales"</span></span></code></pre>
<div class="sourceCode" id="cb51"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/GIFT_taxgroup.html">GIFT_taxgroup</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">species</span><span class="op">$</span><span class="va">work_ID</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span><span class="op">)</span>,</span>
<span>              taxon_lvl <span class="op">=</span> <span class="st">"higher_lvl"</span>, return_ID <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>              species <span class="op">=</span> <span class="va">species</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "Angiospermae" "Monilophyta"  "Angiospermae" "Angiospermae" "Angiospermae"</span></span></code></pre>
<p><br></p>
<p>As said above, plant species names can vary from the original sources
they come from to the final <code>work_species</code> name they get, due
to the taxonomic harmonization procedure. Looking-up for a species and
the different steps of the taxonomic harmonization is possible with the
function <code><a href="../reference/GIFT_species_lookup.html">GIFT_species_lookup()</a></code>.</p>
<div class="sourceCode" id="cb53"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Fagus</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GIFT_species_lookup.html">GIFT_species_lookup</a></span><span class="op">(</span>genus <span class="op">=</span> <span class="st">"Fagus"</span>, epithet <span class="op">=</span> <span class="st">"sylvatica"</span>,</span>
<span>                             namesmatched <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">kable</span><span class="op">(</span><span class="va">Fagus</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="op">]</span>, <span class="st">"html"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">kable_styling</span><span class="op">(</span>full_width <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<table class="table table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:right;">
orig_ID
</th>
<th style="text-align:left;">
orig_genus
</th>
<th style="text-align:right;">
name_ID
</th>
<th style="text-align:right;">
cf_genus
</th>
<th style="text-align:left;">
genus
</th>
<th style="text-align:right;">
cf_species
</th>
<th style="text-align:right;">
aff_species
</th>
<th style="text-align:left;">
species_epithet
</th>
<th style="text-align:left;">
subtaxon
</th>
<th style="text-align:left;">
author
</th>
<th style="text-align:right;">
matched
</th>
<th style="text-align:right;">
epithetscore
</th>
<th style="text-align:right;">
overallscore
</th>
<th style="text-align:right;">
resolved
</th>
<th style="text-align:right;">
synonym
</th>
<th style="text-align:right;">
matched_subtaxon
</th>
<th style="text-align:right;">
accepted
</th>
<th style="text-align:left;">
service
</th>
<th style="text-align:right;">
work_ID
</th>
<th style="text-align:right;">
taxon_ID
</th>
<th style="text-align:left;">
work_genus
</th>
<th style="text-align:left;">
work_species_epithet
</th>
<th style="text-align:left;">
work_species
</th>
<th style="text-align:left;">
work_author
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
59384
</td>
<td style="text-align:left;">
Fagus
</td>
<td style="text-align:right;">
29235
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
Fagus
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
silvatica
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
L.
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0.8888889
</td>
<td style="text-align:right;">
0.9444444
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
tpl
</td>
<td style="text-align:right;">
18283
</td>
<td style="text-align:right;">
3288
</td>
<td style="text-align:left;">
Fagus
</td>
<td style="text-align:left;">
sylvatica
</td>
<td style="text-align:left;">
Fagus sylvatica
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:right;">
10231
</td>
<td style="text-align:left;">
Fagus
</td>
<td style="text-align:right;">
29236
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
Fagus
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
sylvatica
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1.0000000
</td>
<td style="text-align:right;">
0.8333333
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
tpl
</td>
<td style="text-align:right;">
18283
</td>
<td style="text-align:right;">
3288
</td>
<td style="text-align:left;">
Fagus
</td>
<td style="text-align:left;">
sylvatica
</td>
<td style="text-align:left;">
Fagus sylvatica
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:right;">
1393055
</td>
<td style="text-align:left;">
Fagus
</td>
<td style="text-align:right;">
29236
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
Fagus
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
sylvatica
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1.0000000
</td>
<td style="text-align:right;">
0.8333333
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
tpl
</td>
<td style="text-align:right;">
18283
</td>
<td style="text-align:right;">
3288
</td>
<td style="text-align:left;">
Fagus
</td>
<td style="text-align:left;">
sylvatica
</td>
<td style="text-align:left;">
Fagus sylvatica
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:right;">
1395198
</td>
<td style="text-align:left;">
Fagus
</td>
<td style="text-align:right;">
29236
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
Fagus
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
sylvatica
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1.0000000
</td>
<td style="text-align:right;">
0.8333333
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
tpl
</td>
<td style="text-align:right;">
18283
</td>
<td style="text-align:right;">
3288
</td>
<td style="text-align:left;">
Fagus
</td>
<td style="text-align:left;">
sylvatica
</td>
<td style="text-align:left;">
Fagus sylvatica
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:right;">
1395199
</td>
<td style="text-align:left;">
Fagus
</td>
<td style="text-align:right;">
29236
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
Fagus
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
sylvatica
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1.0000000
</td>
<td style="text-align:right;">
0.8333333
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
tpl
</td>
<td style="text-align:right;">
18283
</td>
<td style="text-align:right;">
3288
</td>
<td style="text-align:left;">
Fagus
</td>
<td style="text-align:left;">
sylvatica
</td>
<td style="text-align:left;">
Fagus sylvatica
</td>
<td style="text-align:left;">
NA
</td>
</tr>
</tbody>
</table>
<p><br></p>
</div>
<div class="section level2">
<h2 id="taxonomy">7. Taxonomy<a class="anchor" aria-label="anchor" href="#taxonomy"></a>
</h2>
<p>The taxonomy used in GIFT database can be downloaded using
<code><a href="../reference/GIFT_taxonomy.html">GIFT_taxonomy()</a></code>.</p>
<div class="sourceCode" id="cb54"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">taxo</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GIFT_taxonomy.html">GIFT_taxonomy</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">kable</span><span class="op">(</span><span class="va">taxo</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">20</span>, <span class="op">]</span>, <span class="st">"html"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">kable_styling</span><span class="op">(</span>full_width <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<table class="table table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:right;">
taxon_ID
</th>
<th style="text-align:left;">
taxon_name
</th>
<th style="text-align:left;">
taxon_author
</th>
<th style="text-align:left;">
taxon_lvl
</th>
<th style="text-align:right;">
lft
</th>
<th style="text-align:right;">
rgt
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Embryophyta
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
level_1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
39914
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
Tracheophyta
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
level_2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
35965
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
non-Tracheophyta
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
level_2
</td>
<td style="text-align:right;">
35966
</td>
<td style="text-align:right;">
39911
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:left;">
Pteridophyta
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
level_3
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1480
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:left;">
Spermatophyta
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
level_3
</td>
<td style="text-align:right;">
1481
</td>
<td style="text-align:right;">
35964
</td>
</tr>
<tr>
<td style="text-align:right;">
6
</td>
<td style="text-align:left;">
Angiospermae
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
level_4
</td>
<td style="text-align:right;">
1482
</td>
<td style="text-align:right;">
35749
</td>
</tr>
<tr>
<td style="text-align:right;">
7
</td>
<td style="text-align:left;">
Gymnospermae
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
level_4
</td>
<td style="text-align:right;">
35750
</td>
<td style="text-align:right;">
35963
</td>
</tr>
<tr>
<td style="text-align:right;">
8
</td>
<td style="text-align:left;">
Mesangiosperms
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
other
</td>
<td style="text-align:right;">
1543
</td>
<td style="text-align:right;">
35748
</td>
</tr>
<tr>
<td style="text-align:right;">
9
</td>
<td style="text-align:left;">
Magnoliids
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
other
</td>
<td style="text-align:right;">
34994
</td>
<td style="text-align:right;">
35747
</td>
</tr>
<tr>
<td style="text-align:right;">
10
</td>
<td style="text-align:left;">
Monocots
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
other
</td>
<td style="text-align:right;">
28238
</td>
<td style="text-align:right;">
34993
</td>
</tr>
<tr>
<td style="text-align:right;">
11
</td>
<td style="text-align:left;">
Eudicots
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
other
</td>
<td style="text-align:right;">
1562
</td>
<td style="text-align:right;">
28237
</td>
</tr>
<tr>
<td style="text-align:right;">
12
</td>
<td style="text-align:left;">
Core_Eudicots
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
other
</td>
<td style="text-align:right;">
2259
</td>
<td style="text-align:right;">
28236
</td>
</tr>
<tr>
<td style="text-align:right;">
13
</td>
<td style="text-align:left;">
Superrosids
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
other
</td>
<td style="text-align:right;">
17934
</td>
<td style="text-align:right;">
28235
</td>
</tr>
<tr>
<td style="text-align:right;">
14
</td>
<td style="text-align:left;">
Rosids
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
other
</td>
<td style="text-align:right;">
18307
</td>
<td style="text-align:right;">
28234
</td>
</tr>
<tr>
<td style="text-align:right;">
15
</td>
<td style="text-align:left;">
Superasterids
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
other
</td>
<td style="text-align:right;">
2312
</td>
<td style="text-align:right;">
17933
</td>
</tr>
<tr>
<td style="text-align:right;">
16
</td>
<td style="text-align:left;">
Asterids
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
other
</td>
<td style="text-align:right;">
4729
</td>
<td style="text-align:right;">
17932
</td>
</tr>
<tr>
<td style="text-align:right;">
17
</td>
<td style="text-align:left;">
Amborellales
</td>
<td style="text-align:left;">
Melikyan et al. 
</td>
<td style="text-align:left;">
order
</td>
<td style="text-align:right;">
1537
</td>
<td style="text-align:right;">
1542
</td>
</tr>
<tr>
<td style="text-align:right;">
18
</td>
<td style="text-align:left;">
Nymphaeales
</td>
<td style="text-align:left;">
Salisb. ex Bercht. &amp; J.Presl
</td>
<td style="text-align:left;">
order
</td>
<td style="text-align:right;">
1501
</td>
<td style="text-align:right;">
1536
</td>
</tr>
<tr>
<td style="text-align:right;">
19
</td>
<td style="text-align:left;">
Austrobaileyales
</td>
<td style="text-align:left;">
Takht. ex Reveal
</td>
<td style="text-align:left;">
order
</td>
<td style="text-align:right;">
1483
</td>
<td style="text-align:right;">
1500
</td>
</tr>
<tr>
<td style="text-align:right;">
20
</td>
<td style="text-align:left;">
Canellales
</td>
<td style="text-align:left;">
Cronq.
</td>
<td style="text-align:left;">
order
</td>
<td style="text-align:right;">
35713
</td>
<td style="text-align:right;">
35746
</td>
</tr>
</tbody>
</table>
<p><br></p>
</div>
<div class="section level2">
<h2 id="overlap_glonaf-tables-and-others">8. Overlap_GloNAF tables (and others)<a class="anchor" aria-label="anchor" href="#overlap_glonaf-tables-and-others"></a>
</h2>
<p>As other global databases of plant diversity exist and may rely on
different polygons, we provide a function <code><a href="../reference/GIFT_overlap.html">GIFT_overlap()</a></code>
than can look at the spatial overlap between GIFT polygons and polygons
coming from other databases. <br> So far, only two resources are
available: <code>glonaf</code> and <code>gmba</code>.
<code>glonaf</code> stands for <a href="https://glonaf.org/" class="external-link">Global
Naturalized Alien Flora</a> and <code>gmba</code> for <a href="https://www.gmba.unibe.ch/" class="external-link">Global Mountain Biodiversity
Assessment</a>.</p>
<p><code><a href="../reference/GIFT_overlap.html">GIFT_overlap()</a></code> returns the spatial overlap in percentage
for each pairwise combination of polygons between GIFT and the other
resource.</p>
<div class="sourceCode" id="cb55"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">glonaf</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GIFT_overlap.html">GIFT_overlap</a></span><span class="op">(</span>resource <span class="op">=</span> <span class="st">"glonaf"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">kable</span><span class="op">(</span><span class="va">glonaf</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="op">]</span>, <span class="st">"html"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">kable_styling</span><span class="op">(</span>full_width <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<table class="table table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:right;">
entity_ID
</th>
<th style="text-align:right;">
glonaf_ID
</th>
<th style="text-align:right;">
overlap12
</th>
<th style="text-align:right;">
overlap21
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
10535
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0.0000234
</td>
<td style="text-align:right;">
0.0003414
</td>
</tr>
<tr>
<td style="text-align:right;">
10535
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
0.0000063
</td>
<td style="text-align:right;">
0.0001627
</td>
</tr>
<tr>
<td style="text-align:right;">
10535
</td>
<td style="text-align:right;">
43
</td>
<td style="text-align:right;">
0.0000133
</td>
<td style="text-align:right;">
0.0031738
</td>
</tr>
<tr>
<td style="text-align:right;">
10535
</td>
<td style="text-align:right;">
86
</td>
<td style="text-align:right;">
0.9960670
</td>
<td style="text-align:right;">
0.9923370
</td>
</tr>
<tr>
<td style="text-align:right;">
10535
</td>
<td style="text-align:right;">
112
</td>
<td style="text-align:right;">
0.0000112
</td>
<td style="text-align:right;">
0.0002035
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb56"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gmba</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GIFT_overlap.html">GIFT_overlap</a></span><span class="op">(</span>resource <span class="op">=</span> <span class="st">"gmba"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">kable</span><span class="op">(</span><span class="va">gmba</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="op">]</span>, <span class="st">"html"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">kable_styling</span><span class="op">(</span>full_width <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<table class="table table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:right;">
entity_ID
</th>
<th style="text-align:right;">
gmba_ID
</th>
<th style="text-align:right;">
overlap12
</th>
<th style="text-align:right;">
overlap21
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
10529
</td>
<td style="text-align:right;">
231
</td>
<td style="text-align:right;">
0.0000026
</td>
<td style="text-align:right;">
0.0031734
</td>
</tr>
<tr>
<td style="text-align:right;">
10529
</td>
<td style="text-align:right;">
234
</td>
<td style="text-align:right;">
0.0000274
</td>
<td style="text-align:right;">
0.0042164
</td>
</tr>
<tr>
<td style="text-align:right;">
10529
</td>
<td style="text-align:right;">
236
</td>
<td style="text-align:right;">
0.0002481
</td>
<td style="text-align:right;">
0.5110019
</td>
</tr>
<tr>
<td style="text-align:right;">
10529
</td>
<td style="text-align:right;">
237
</td>
<td style="text-align:right;">
0.0007120
</td>
<td style="text-align:right;">
1.0000002
</td>
</tr>
<tr>
<td style="text-align:right;">
10529
</td>
<td style="text-align:right;">
238
</td>
<td style="text-align:right;">
0.0006033
</td>
<td style="text-align:right;">
1.0000003
</td>
</tr>
</tbody>
</table>
<p><br></p>
</div>
<div class="section level2">
<h2 class="unnumbered" id="references-1">References<a class="anchor" aria-label="anchor" href="#references-1"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-Weigelt2020" class="csl-entry">
Weigelt, Patrick, Christian König, and Holger Kreft. 2020. <span>“GIFT –
a Global Inventory of Floras and Traits for Macroecology and
Biogeography.”</span> <em>Journal of Biogeography</em> 47 (1): 16–43. <a href="https://doi.org/10.1111/jbi.13623" class="external-link">https://doi.org/10.1111/jbi.13623</a>.
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Patrick Weigelt, Pierre Denelle.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
