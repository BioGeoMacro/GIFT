<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="GIFT">
<title>GIFT tutorial for advanced users • GIFT</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="GIFT tutorial for advanced users">
<meta property="og:description" content="GIFT">
<meta property="og:image" content="https://biogeomacro.github.io/GIFT/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">GIFT</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.3.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/GIFT.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/GIFT_API.html">Queries in the API</a>
    <a class="dropdown-item" href="../articles/GIFT_advanced_users.html">GIFT tutorial for advanced users</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/BioGeoMacro/GIFT/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="GIFT_advanced_users_files/kePrint-0.0.1/kePrint.js"></script><link href="GIFT_advanced_users_files/lightable-0.0.1/lightable.css" rel="stylesheet">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>GIFT tutorial for advanced users</h1>
                        <h4 data-toc-skip class="author">Pierre Denelle
&amp; Patrick Weigelt</h4>
            
            <h4 data-toc-skip class="date">2024-02-06</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/BioGeoMacro/GIFT/blob/HEAD/vignettes/GIFT_advanced_users.Rmd" class="external-link"><code>vignettes/GIFT_advanced_users.Rmd</code></a></small>
      <div class="d-none name"><code>GIFT_advanced_users.Rmd</code></div>
    </div>

    
    
<style>
body {
text-align: justify}
</style>
<p><img src="../reference/figures/biodiv_gottingen_logo.png" width="20%" style="display: block; margin: auto;"><img src="../reference/figures/GIFT.png" width="20%" style="display: block; margin: auto;"></p>
<p><br></p>
<p>This vignette documents some functions and specificities that were
not presented in the <a href="https://biogeomacro.github.io/GIFT/articles/GIFT.html">main
vignette</a> of the package. It is mainly intended for advanced users of
the GIFT database.</p>
<div class="section level2">
<h2 id="section1">1. Versions and metadata for checklists<a class="anchor" aria-label="anchor" href="#section1"></a>
</h2>
<p>All functions in the package have a <code>version</code> argument.
This argument allows you to retrieve different instances of the GIFT
database and thus make all previous studies using the GIFT database
reproducible. For example, the version used in Weigelt et al. (2020) is
<code>"1.0"</code>. To get more information about the contents of the
different versions, you can go <a href="https://gift.uni-goettingen.de/about" class="external-link">here</a> and click on the
Version Log tab.</p>
<p>To access all the available versions of the database, you can run the
following function:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">versions</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GIFT_versions.html">GIFT_versions</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu">kable</span><span class="op">(</span><span class="va">versions</span>, <span class="st">"html"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">kable_styling</span><span class="op">(</span>full_width <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<table class="table table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
ID
</th>
<th style="text-align:left;">
version
</th>
<th style="text-align:left;">
description
</th>
<th style="text-align:left;">
taxonomy
</th>
<th style="text-align:left;">
phylogeny
</th>
<th style="text-align:left;">
overlap
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
1.0
</td>
<td style="text-align:left;">
2018-08-08: Data included in and workflows used to assemble GIFT 1.0 are
described in detail in: Weigelt, P., König, C. &amp; Kreft, H. (2020)
GIFT – A Global Inventory of Floras and Traits for macroecology and
biogeography. Journal of Biogeography, 47, 16-43. doi: 10.1111/jbi.13623
</td>
<td style="text-align:left;">
The Plant List 1.1 and resources used by TNRS at the time
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
gaptani (version: okt2005, ID_column: UNITID); glonaf (version:
2017-06-12; ID_column: OBJIDsic); gmba (version: 1.0, ID_column:
rownames)
</td>
</tr>
<tr>
<td style="text-align:left;">
2
</td>
<td style="text-align:left;">
2.0
</td>
<td style="text-align:left;">
2019-09-01: New checklist and trait data included for Europe, the
Mediterranean, temperate Asia, Panama, Japan, Java, New Zealand, Easter
Island and the Torres Strait Islands. Updated workflows to document
biases in the distribution of trait data; Updated taxonomic trait
derivation; Final trait values and agreement scores for trait values
from several resources are now calculated separately including and
excluding restricted resources.
</td>
<td style="text-align:left;">
The Plant List 1.1 and resources used by TNRS at the time
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
gaptani (version: okt2005, ID_column: UNITID); glonaf (version:
2017-06-12; ID_column: OBJIDsic); gmba (version: 1.0, ID_column:
rownames)
</td>
</tr>
<tr>
<td style="text-align:left;">
3
</td>
<td style="text-align:left;">
2.1
</td>
<td style="text-align:left;">
2021-05-21: New checklists and traits included for the Americas, Crimea,
Madagascar, Arabian peninsula, Laos, Bhutan, India, China, Sunda-Sahul
shelf, Tonga, Canary Islands, West Africa and for ferns and palms
globally. Large categorical trait data included from Try.
</td>
<td style="text-align:left;">
The Plant List 1.1 and resources used by TNRS at the time
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
gaptani (version: okt2005, ID_column: UNITID); glonaf (version:
2017-06-12; ID_column: OBJIDsic); gmba (version: 1.0, ID_column:
rownames)
</td>
</tr>
<tr>
<td style="text-align:left;">
4
</td>
<td style="text-align:left;">
2.2
</td>
<td style="text-align:left;">
2022-05-30: New checklists (with a focus on endemic species) and traits
for various oceanic archipelagos (Cook Islands, Madeira, Arctic Islands,
Cayman Islands, Comores, Juan Fernandez, Palau, Galapagos, Frisian
Islands, Antilles, Japan, Mayotte, Fiji, Taiwan, etc.) and various
mainland regions (Equatorial Guinea and the entire former USSR in
sub-regions).
</td>
<td style="text-align:left;">
The Plant List 1.1 and resources used by TNRS at the time
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
gaptani (version: okt2005, ID_column: UNITID); glonaf (version:
2017-06-12; ID_column: OBJIDsic); gmba (version: 1.0, ID_column:
rownames)
</td>
</tr>
<tr>
<td style="text-align:left;">
5
</td>
<td style="text-align:left;">
3.0
</td>
<td style="text-align:left;">
2023-06-30: New data and updated workflows as described in: Denelle, P.,
Weigelt, P. &amp; Kreft, H. (2023) GIFT - an R package to access the
Global Inventory of Floras and Traits. BioRxiv, doi:
10.1101/2023.06.27.546704. Updated workflows include: (1) New taxonomic
name standardization based on WCVP; (2) More statistics on species level
trait aggregation; (3) Updated extraction of raster layer values per
GIFT region and new raster resources; (4) Updated phylogeny.
</td>
<td style="text-align:left;">
World Checklist of Vascular Plants (WCVP, v9) and resources used by TNRS
at the time
</td>
<td style="text-align:left;">
Phylogeny built using U.PhyloMaker R-package (Jin &amp; Qian, 2022)
based on the GBOTB megatree from Smith &amp; Brown (2018) and Zanne et
al. (2014), standardized according to WCVP.
</td>
<td style="text-align:left;">
gaptani (version: okt2005, ID_column: UNITID); glonaf (version:
2021-07-02; ID_column: OBJIDsic); gmba (version: 1.2, ID_column:
rownames)
</td>
</tr>
<tr>
<td style="text-align:left;">
6
</td>
<td style="text-align:left;">
3.1
</td>
<td style="text-align:left;">
2023-11-11: New checklist data for Mongolia and Farasan Archipelago and
correction of seed traits for Hawaii (ref 16; units).
</td>
<td style="text-align:left;">
World Checklist of Vascular Plants (WCVP, v9) and resources used by TNRS
at the time
</td>
<td style="text-align:left;">
Phylogeny built using U.PhyloMaker R-package (Jin &amp; Qian, 2022)
based on the GBOTB megatree from Smith &amp; Brown (2018) and Zanne et
al. (2014), standardized according to WCVP.
</td>
<td style="text-align:left;">
gaptani (version: okt2005, ID_column: UNITID); glonaf (version:
2021-07-02; ID_column: OBJIDsic); gmba (version: 2.0, ID_column:
GMBA_V2_ID)
</td>
</tr>
</tbody>
</table>
<p>The <code>version</code> column of this table is the one to use if
you want to retrieve past versions of the GIFT database. By default, the
argument used is <code>GIFT_version = "latest"</code> which leads to the
current latest stable version of the database (“2.0” in October
2022).</p>
<p>The <code><a href="../reference/GIFT_lists.html">GIFT_lists()</a></code> function can be run to retrieve
metadata about the GIFT checklists. In the next chunk, we call it with
different values for the <code>GIFT_version</code> argument.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">list_latest</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GIFT_lists.html">GIFT_lists</a></span><span class="op">(</span>GIFT_version <span class="op">=</span> <span class="st">"latest"</span><span class="op">)</span> <span class="co"># default value</span></span>
<span><span class="va">list_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GIFT_lists.html">GIFT_lists</a></span><span class="op">(</span>GIFT_version <span class="op">=</span> <span class="st">"1.0"</span><span class="op">)</span></span></code></pre></div>
<p>The number of available checklists was 3122 in the version 1.0 and
equals 4475 in the version 2.0.</p>
<p><br></p>
</div>
<div class="section level2">
<h2 id="references">2. References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<p>When using the GIFT database in a research article, it is a good
practice to cite the references used, and list them in an Appendix. The
following function retrieves the reference for each checklist, as well
as some metadata. References are documented in the <code>ref_long</code>
column.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ref</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GIFT_references.html">GIFT_references</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">ref</span> <span class="op">&lt;-</span> <span class="va">ref</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">ref</span><span class="op">$</span><span class="va">ref_ID</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">22</span>, <span class="fl">10333</span>, <span class="fl">10649</span><span class="op">)</span><span class="op">)</span>,</span>
<span>           <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ref_ID"</span>, <span class="st">"ref_long"</span>, <span class="st">"geo_entity_ref"</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># 3 first rows of that table</span></span>
<span><span class="fu">kable</span><span class="op">(</span><span class="va">ref</span>, <span class="st">"html"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">kable_styling</span><span class="op">(</span>full_width <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<table class="table table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
ref_ID
</th>
<th style="text-align:left;">
ref_long
</th>
<th style="text-align:left;">
geo_entity_ref
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
22
</td>
<td style="text-align:right;">
22
</td>
<td style="text-align:left;">
Kirchner, Picot, Merceron &amp; Gigot (2010) Flore vasculaire de La
Réunion. Conservatoire Botanique National de Mascarin, Réunion; France.
</td>
<td style="text-align:left;">
La Réunion
</td>
</tr>
<tr>
<td style="text-align:left;">
667
</td>
<td style="text-align:right;">
10333
</td>
<td style="text-align:left;">
Zizka (1991) Flowering plants of Easter Island. Palmarum hortus
francofurtensis 3, 3-108.
</td>
<td style="text-align:left;">
Easter Island
</td>
</tr>
<tr>
<td style="text-align:left;">
880
</td>
<td style="text-align:right;">
10649
</td>
<td style="text-align:left;">
Pavlov (1954-1966) Flora Kazakhstana. Nauka Kazakhskoy SSR, Alma-Ata,
Kazakhstan.
</td>
<td style="text-align:left;">
Kazakhstan
</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>The next chunk describes the steps to retrieve the publication
sources when you start from specific regions, let’s say the Canary
islands.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># List of all regions</span></span>
<span><span class="va">regions</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GIFT_regions.html">GIFT_regions</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Example</span></span>
<span><span class="va">can</span> <span class="op">&lt;-</span> <span class="fl">1036</span> <span class="co"># entity ID for Canary islands</span></span>
<span></span>
<span><span class="co"># What references</span></span>
<span><span class="va">gift_lists</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GIFT_lists.html">GIFT_lists</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">can_ref</span> <span class="op">&lt;-</span> <span class="va">gift_lists</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">gift_lists</span><span class="op">$</span><span class="va">entity_ID</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">can</span><span class="op">)</span><span class="op">)</span>, <span class="st">"ref_ID"</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># What sources</span></span>
<span><span class="fu">kable</span><span class="op">(</span><span class="va">ref</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">ref</span><span class="op">$</span><span class="va">ref_ID</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">can_ref</span><span class="op">)</span>, <span class="op">]</span>, <span class="st">"html"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">kable_styling</span><span class="op">(</span>full_width <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:right;">
ref_ID
</th>
<th style="text-align:left;">
ref_long
</th>
<th style="text-align:left;">
geo_entity_ref
</th>
</tr></thead>
<tbody><tr></tr></tbody>
</table>
<p><br></p>
</div>
<div class="section level2">
<h2 id="checklist-data">3. Checklist data<a class="anchor" aria-label="anchor" href="#checklist-data"></a>
</h2>
<p>The main wrapper function for retrieving checklists and their species
composition is <code><a href="../reference/GIFT_checklists.html">GIFT_checklists()</a></code> but you can also retrieve
individual checklists using <code><a href="../reference/GIFT_checklists_raw.html">GIFT_checklists_raw()</a></code>. You
would need to know the identification number <code>list_ID</code> of the
checklists you want to retrieve. <br> To quickly see all the
<code>list_ID</code> available in the database, you can run
<code><a href="../reference/GIFT_lists.html">GIFT_lists()</a></code> as shown in <a href="#section1">Section
1</a>.</p>
<p><br> When calling <code><a href="../reference/GIFT_checklists_raw.html">GIFT_checklists_raw()</a></code>, you can set the
argument <code>namesmatched</code> to <code>TRUE</code> in order to get
additional columns informing about the taxonomic harmonization that was
performed when the list was uploaded to the GIFT database.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">listID_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GIFT_checklists_raw.html">GIFT_checklists_raw</a></span><span class="op">(</span>list_ID <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">11926</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">listID_1_tax</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GIFT_checklists_raw.html">GIFT_checklists_raw</a></span><span class="op">(</span>list_ID <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">11926</span><span class="op">)</span>, namesmatched <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">listID_1</span><span class="op">)</span> <span class="co"># 16 columns</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">listID_1_tax</span><span class="op">)</span> <span class="co"># 33 columns</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">listID_1</span><span class="op">$</span><span class="va">work_ID</span><span class="op">)</span><span class="op">)</span>; <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">listID_1_tax</span><span class="op">$</span><span class="va">orig_ID</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>In the list we called up, you can see that we “lost” some species
after the taxonomic harmonization since we went from 1331 in the source
to 1106 after the taxonomic harmonization. This means that several
species were considered as synonyms or unknown plant species in the
taxonomic backbone used for harmonization. <br><br><em>Note: the main
service used for taxonomic harmonization of species names</em> <em>was
The Plant List up to version 2.0 and World checklist of Vascular
Plants</em> <em>afterwards.</em></p>
<p><br></p>
</div>
<div class="section level2">
<h2 id="spatial-subset">4. Spatial subset<a class="anchor" aria-label="anchor" href="#spatial-subset"></a>
</h2>
<p>In the <a href="https://biogeomacro.github.io/GIFT/articles/GIFT.html">main
vignette</a>, we illustrated how to retrieve checklists that fall into a
provided shapefile, using the western Mediterranean basin provided with
the GIFT R package.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"western_mediterranean"</span><span class="op">)</span></span></code></pre></div>
<p>Here we provide more details on the different values the
<code>overlap</code> argument can take, using the
<code><a href="../reference/GIFT_spatial.html">GIFT_spatial()</a></code> function. The following figure illustrates
how this argument works:</p>
<br><div class="figure" style="text-align: center">
<img src="../reference/figures/GIFT_spatial.svg" alt="Figure 1. GIFT spatial" width="50%"><p class="caption">
Figure 1. GIFT spatial
</p>
</div>
<p><br></p>
<p>We now illustrate this by retrieving checklists falling in the
western Mediterranean basin using the four options available.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">med_centroid_inside</span>  <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GIFT_spatial.html">GIFT_spatial</a></span><span class="op">(</span>shp <span class="op">=</span> <span class="va">western_mediterranean</span>,</span>
<span>                                     overlap <span class="op">=</span> <span class="st">"centroid_inside"</span><span class="op">)</span></span>
<span><span class="va">med_extent_intersect</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GIFT_spatial.html">GIFT_spatial</a></span><span class="op">(</span>shp <span class="op">=</span> <span class="va">western_mediterranean</span>,</span>
<span>                                     overlap <span class="op">=</span> <span class="st">"extent_intersect"</span><span class="op">)</span></span>
<span><span class="va">med_shape_intersect</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GIFT_spatial.html">GIFT_spatial</a></span><span class="op">(</span>shp <span class="op">=</span> <span class="va">western_mediterranean</span>,</span>
<span>                                    overlap <span class="op">=</span> <span class="st">"shape_intersect"</span><span class="op">)</span></span>
<span><span class="va">med_shape_inside</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GIFT_spatial.html">GIFT_spatial</a></span><span class="op">(</span>shp <span class="op">=</span> <span class="va">western_mediterranean</span>,</span>
<span>                                 overlap <span class="op">=</span> <span class="st">"shape_inside"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">med_extent_intersect</span><span class="op">$</span><span class="va">entity_ID</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">med_shape_intersect</span><span class="op">$</span><span class="va">entity_ID</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">med_centroid_inside</span><span class="op">$</span><span class="va">entity_ID</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">med_shape_inside</span><span class="op">$</span><span class="va">entity_ID</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>We see here that we progressively lose lists as we apply more
selective criterion on the spatial overlap. The most restrictive option
being <code>overlap = "shape_inside"</code> with 72 regions, then
<code>overlap = "centroid_inside"</code> with 84 regions,
<code>overlap = "shape_intersect"</code> with 104 regions and finally
the less restrictive one being <code>overlap = "extent_intersect"</code>
with 108 regions. <br> Using the functions <code><a href="../reference/GIFT_shapes.html">GIFT_shapes()</a></code>
and calling it for the entity_IDs retrieved in each instance, we can
download the shape files for each region.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">geodata_extent_intersect</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GIFT_shapes.html">GIFT_shapes</a></span><span class="op">(</span><span class="va">med_extent_intersect</span><span class="op">$</span><span class="va">entity_ID</span><span class="op">)</span></span>
<span></span>
<span><span class="va">geodata_shape_inside</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">geodata_extent_intersect</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">geodata_extent_intersect</span><span class="op">$</span><span class="va">entity_ID</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span></span>
<span>                                   <span class="va">med_shape_inside</span><span class="op">$</span><span class="va">entity_ID</span><span class="op">)</span>, <span class="op">]</span></span>
<span><span class="va">geodata_centroid_inside</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">geodata_extent_intersect</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">geodata_extent_intersect</span><span class="op">$</span><span class="va">entity_ID</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span></span>
<span>                                   <span class="va">med_centroid_inside</span><span class="op">$</span><span class="va">entity_ID</span><span class="op">)</span>, <span class="op">]</span></span>
<span><span class="va">geodata_shape_intersect</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">geodata_extent_intersect</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">geodata_extent_intersect</span><span class="op">$</span><span class="va">entity_ID</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span></span>
<span>                                   <span class="va">med_shape_intersect</span><span class="op">$</span><span class="va">entity_ID</span><span class="op">)</span>, <span class="op">]</span></span></code></pre></div>
<p>And then make a map.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">par_overlap</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span>, mai <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0.5</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html" class="external-link">st_geometry</a></span><span class="op">(</span><span class="va">geodata_shape_inside</span><span class="op">)</span>,</span>
<span>     col <span class="op">=</span> <span class="va">geodata_shape_inside</span><span class="op">$</span><span class="va">entity_ID</span>,</span>
<span>     main <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"shape inside\n"</span>,</span>
<span>                  <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">med_shape_inside</span><span class="op">$</span><span class="va">entity_ID</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                  <span class="st">"polygons"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html" class="external-link">st_geometry</a></span><span class="op">(</span><span class="va">western_mediterranean</span><span class="op">)</span>, lwd <span class="op">=</span> <span class="fl">2</span>, add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html" class="external-link">st_geometry</a></span><span class="op">(</span><span class="va">geodata_centroid_inside</span><span class="op">)</span>,</span>
<span>     col <span class="op">=</span> <span class="va">geodata_centroid_inside</span><span class="op">$</span><span class="va">entity_ID</span>,</span>
<span>     main <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"centroid inside\n"</span>,</span>
<span>                  <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">med_centroid_inside</span><span class="op">$</span><span class="va">entity_ID</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                  <span class="st">"polygons"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/points.html" class="external-link">points</a></span><span class="op">(</span><span class="va">geodata_centroid_inside</span><span class="op">$</span><span class="va">point_x</span>, <span class="va">geodata_centroid_inside</span><span class="op">$</span><span class="va">point_y</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html" class="external-link">st_geometry</a></span><span class="op">(</span><span class="va">western_mediterranean</span><span class="op">)</span>, lwd <span class="op">=</span> <span class="fl">2</span>, add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html" class="external-link">st_geometry</a></span><span class="op">(</span><span class="va">geodata_shape_intersect</span><span class="op">)</span>,</span>
<span>     col <span class="op">=</span> <span class="va">geodata_shape_intersect</span><span class="op">$</span><span class="va">entity_ID</span>,</span>
<span>     main <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"shape intersect\n"</span>,</span>
<span>                  <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">med_shape_intersect</span><span class="op">$</span><span class="va">entity_ID</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                  <span class="st">"polygons"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html" class="external-link">st_geometry</a></span><span class="op">(</span><span class="va">western_mediterranean</span><span class="op">)</span>, lwd <span class="op">=</span> <span class="fl">2</span>, add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html" class="external-link">st_geometry</a></span><span class="op">(</span><span class="va">geodata_extent_intersect</span><span class="op">)</span>,</span>
<span>     col <span class="op">=</span> <span class="va">geodata_extent_intersect</span><span class="op">$</span><span class="va">entity_ID</span>,</span>
<span>     main <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"extent intersect\n"</span>,</span>
<span>                  <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">med_extent_intersect</span><span class="op">$</span><span class="va">entity_ID</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                  <span class="st">"polygons"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html" class="external-link">st_geometry</a></span><span class="op">(</span><span class="va">western_mediterranean</span><span class="op">)</span>, lwd <span class="op">=</span> <span class="fl">2</span>, add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span><span class="va">par_overlap</span><span class="op">)</span></span></code></pre></div>
<p><img src="../reference/figures/advanced_overlap.png" width="100%" style="display: block; margin: auto;"></p>
<p><br></p>
</div>
<div class="section level2">
<h2 id="remove-overlapping-regions">5. Remove overlapping regions<a class="anchor" aria-label="anchor" href="#remove-overlapping-regions"></a>
</h2>
<p>GIFT comprises many polygons and for some regions, there are several
polygons overlapping. How to remove overlapping polygons and the
associated parameters are two things detailed in the <a href="https://biogeomacro.github.io/GIFT/articles/GIFT.html">main
vignette</a>. We here provide further details:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">med_shape_inside</span><span class="op">$</span><span class="va">entity_ID</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 72</span></span></code></pre>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="../reference/GIFT_no_overlap.html">GIFT_no_overlap</a></span><span class="op">(</span><span class="va">med_shape_inside</span><span class="op">$</span><span class="va">entity_ID</span>, area_threshold_island <span class="op">=</span> <span class="fl">0</span>,</span>
<span>                       area_threshold_mainland <span class="op">=</span> <span class="fl">100</span>, overlap_threshold <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 53</span></span></code></pre>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># The following polygons are overlapping:</span></span>
<span><span class="fu"><a href="../reference/GIFT_no_overlap.html">GIFT_no_overlap</a></span><span class="op">(</span><span class="va">med_shape_inside</span><span class="op">$</span><span class="va">entity_ID</span>, area_threshold_island <span class="op">=</span> <span class="fl">0</span>,</span>
<span>                area_threshold_mainland <span class="op">=</span> <span class="fl">100</span>, overlap_threshold <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##  [1]   145   146   147   148   149   150   151   414   415   416   417   547</span></span>
<span><span class="co">## [13]   548   549   550   551   552   586   591   592   736   738   739 10001</span></span>
<span><span class="co">## [25] 10072 10104 10184 10303 10422 10430 10978 11029 11030 11031 11033 11035</span></span>
<span><span class="co">## [37] 11038 11039 11042 11044 11045 11046 11434 11474 11477 11503 12231 12232</span></span>
<span><span class="co">## [49] 12233 12632 12633 12634 12635</span></span></code></pre>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Example of two overlapping polygons: Spain mainland and Andalusia</span></span>
<span><span class="va">overlap_shape</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GIFT_shapes.html">GIFT_shapes</a></span><span class="op">(</span>entity_ID <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10071</span>, <span class="fl">12078</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">par_overlap_shp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html" class="external-link">st_geometry</a></span><span class="op">(</span><span class="va">overlap_shape</span><span class="op">)</span>,</span>
<span>     col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/grDevices/rgb.html" class="external-link">rgb</a></span><span class="op">(</span>red <span class="op">=</span> <span class="fl">1</span>, green <span class="op">=</span> <span class="fl">0</span>, blue <span class="op">=</span> <span class="fl">0</span>, alpha <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span>,</span>
<span>             <span class="fu"><a href="https://rdrr.io/r/grDevices/rgb.html" class="external-link">rgb</a></span><span class="op">(</span>red <span class="op">=</span> <span class="fl">0</span>, green <span class="op">=</span> <span class="fl">0</span>, blue <span class="op">=</span> <span class="fl">1</span>, alpha <span class="op">=</span> <span class="fl">0.3</span><span class="op">)</span><span class="op">)</span>,</span>
<span>     lwd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>     main <span class="op">=</span> <span class="st">"Overlapping polygons"</span><span class="op">)</span></span></code></pre></div>
<p><img src="GIFT_advanced_users_files/figure-html/unnamed-chunk-18-1.png" width="960" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span><span class="va">par_overlap_shp</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/GIFT_no_overlap.html">GIFT_no_overlap</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10071</span>, <span class="fl">12078</span><span class="op">)</span>, area_threshold_island <span class="op">=</span> <span class="fl">0</span>,</span>
<span>                area_threshold_mainland <span class="op">=</span> <span class="fl">100</span>, overlap_threshold <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 12078</span></span></code></pre>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/GIFT_no_overlap.html">GIFT_no_overlap</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10071</span>, <span class="fl">12078</span><span class="op">)</span>, area_threshold_island <span class="op">=</span> <span class="fl">0</span>,</span>
<span>                area_threshold_mainland <span class="op">=</span> <span class="fl">100000</span>, overlap_threshold <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 10071</span></span></code></pre>
<p><br></p>
<div class="section level3">
<h3 id="by-ref_id">5.2. By ref_ID<a class="anchor" aria-label="anchor" href="#by-ref_id"></a>
</h3>
<p>In <code><a href="../reference/GIFT_checklists.html">GIFT_checklists()</a></code>, there is also the possibility to
remove overlapping polygons only if they belong to the same reference
(i.e. same <code>ref_ID</code>).<br><br> We show how this works with the following example:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ex</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GIFT_checklists.html">GIFT_checklists</a></span><span class="op">(</span>taxon_name <span class="op">=</span> <span class="st">"Tracheophyta"</span>, by_ref_ID <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>                      list_set_only <span class="op">=</span> <span class="cn">TRUE</span>, GIFT_version <span class="op">=</span> <span class="st">"3.0"</span><span class="op">)</span></span>
<span><span class="va">ex2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GIFT_checklists.html">GIFT_checklists</a></span><span class="op">(</span>taxon_name <span class="op">=</span> <span class="st">"Tracheophyta"</span>,</span>
<span>                       remove_overlap <span class="op">=</span> <span class="cn">TRUE</span>, by_ref_ID <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                       list_set_only <span class="op">=</span> <span class="cn">TRUE</span>, GIFT_version <span class="op">=</span> <span class="st">"3.0"</span><span class="op">)</span></span>
<span><span class="va">ex3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GIFT_checklists.html">GIFT_checklists</a></span><span class="op">(</span>taxon_name <span class="op">=</span> <span class="st">"Tracheophyta"</span>,</span>
<span>                       remove_overlap <span class="op">=</span> <span class="cn">TRUE</span>, by_ref_ID <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>                       list_set_only <span class="op">=</span> <span class="cn">TRUE</span>, GIFT_version <span class="op">=</span> <span class="st">"3.0"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">ex</span><span class="op">$</span><span class="va">lists</span><span class="op">$</span><span class="va">ref_ID</span><span class="op">)</span><span class="op">)</span> <span class="co"># 369 checklists</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">ex2</span><span class="op">$</span><span class="va">lists</span><span class="op">$</span><span class="va">ref_ID</span><span class="op">)</span><span class="op">)</span> <span class="co"># 364 checklists</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">ex3</span><span class="op">$</span><span class="va">lists</span><span class="op">$</span><span class="va">ref_ID</span><span class="op">)</span><span class="op">)</span> <span class="co"># 336 checklists</span></span></code></pre></div>
<p>Asking for checklists of vascular plants, we get 369 checklists
without any overlapping criterion, 336 if we remove overlapping polygons
and 364 if we remove overlapping polygons at the reference level.<br><br> So what is the difference between the second and third case?<br>
Let’s look at the checklists that are present in the second example but
not in the third.</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">ex2</span><span class="op">$</span><span class="va">lists</span><span class="op">$</span><span class="va">ref_ID</span><span class="op">)</span><span class="op">[</span><span class="op">!</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">ex2</span><span class="op">$</span><span class="va">lists</span><span class="op">$</span><span class="va">ref_ID</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span></span>
<span>                             <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">ex3</span><span class="op">$</span><span class="va">lists</span><span class="op">$</span><span class="va">ref_ID</span><span class="op">)</span><span class="op">)</span><span class="op">]</span> <span class="co"># 28 references</span></span></code></pre></div>
<p>28 references are in the second example (overlapping regions removed
at the reference level) and not in the third (all overlapping regions
removed). If we look at one of the listed references
<code>ref_ID = 10143</code>, we see that it is a checklist for the
Pilbara region in Australia. Its <code>entity_ID</code> is 10043.
Looking at the GIFT web site, we see that other regions can overlap with
it.<br><br></p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Pilbara region Australy and overlapping shapes</span></span>
<span><span class="va">pilbara</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GIFT_shapes.html">GIFT_shapes</a></span><span class="op">(</span>entity_ID <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10043</span>, <span class="fl">12172</span>, <span class="fl">11398</span>, <span class="fl">11391</span>, <span class="fl">10918</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">pilbara</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">geom_sf</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">entity_ID</span><span class="op">)</span><span class="op">)</span>, alpha <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html" class="external-link">scale_fill_brewer</a></span><span class="op">(</span><span class="st">"entity_ID"</span>, palette <span class="op">=</span> <span class="st">"Set1"</span><span class="op">)</span></span></code></pre></div>
<p><img src="GIFT_advanced_users_files/figure-html/unnamed-chunk-23-1.png" width="768" style="display: block; margin: auto;"></p>
<p>Since these polygons do not belong to the same <code>ref_ID</code>,
they are kept if <code>by_ref_ID = TRUE</code> but are removed if
<code>by_ref_ID = FALSE</code>.</p>
</div>
</div>
<div class="section level2">
<h2 id="species">6. Species<a class="anchor" aria-label="anchor" href="#species"></a>
</h2>
<p>All the plant species present in the GIFT database can be retrieved
using <code><a href="../reference/GIFT_species.html">GIFT_species()</a></code>.</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">species</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GIFT_species.html">GIFT_species</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>To add additional information, like their order or family, we can
call <code><a href="../reference/GIFT_taxgroup.html">GIFT_taxgroup()</a></code>.</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Add Family</span></span>
<span><span class="va">species</span><span class="op">$</span><span class="va">Family</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GIFT_taxgroup.html">GIFT_taxgroup</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">species</span><span class="op">$</span><span class="va">work_ID</span><span class="op">)</span>, taxon_lvl <span class="op">=</span> <span class="st">"family"</span>, return_ID <span class="op">=</span> <span class="cn">FALSE</span>, </span>
<span>  species <span class="op">=</span> <span class="va">species</span><span class="op">)</span></span></code></pre></div>
<p>Order or higher levels can also be retrieved.</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/GIFT_taxgroup.html">GIFT_taxgroup</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">species</span><span class="op">$</span><span class="va">work_ID</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span><span class="op">)</span>, taxon_lvl <span class="op">=</span> <span class="st">"order"</span>,</span>
<span>              return_ID <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/GIFT_taxgroup.html">GIFT_taxgroup</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">species</span><span class="op">$</span><span class="va">work_ID</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span><span class="op">)</span>,</span>
<span>              taxon_lvl <span class="op">=</span> <span class="st">"higher_lvl"</span>, return_ID <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>              species <span class="op">=</span> <span class="va">species</span><span class="op">)</span></span></code></pre></div>
<p><br></p>
<p>As mentioned above, plant species names may vary from the original
sources they come from to the final <code>work_species</code> name they
get, due to the taxonomic harmonization procedure. Looking up a species
and the different steps of taxonomic harmonization is possible with the
<code><a href="../reference/GIFT_species_lookup.html">GIFT_species_lookup()</a></code> function.</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Fagus</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GIFT_species_lookup.html">GIFT_species_lookup</a></span><span class="op">(</span>genus <span class="op">=</span> <span class="st">"Fagus"</span>, epithet <span class="op">=</span> <span class="st">"sylvatica"</span>,</span>
<span>                             namesmatched <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>In this table, we can see that the first entry <em>Fagus
silvatica</em> was later changed to the accepted name <em>Fagus
sylvatica</em>.</p>
<p><br></p>
<div class="section level3">
<h3 id="retrieve-work_ids-for-external-species-list">6.2. Retrieve work_IDs for external species list<a class="anchor" aria-label="anchor" href="#retrieve-work_ids-for-external-species-list"></a>
</h3>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sp_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Anemone nemorosa"</span>, <span class="st">"Fagus sylvatica"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">gift_sp</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GIFT_species.html">GIFT_species</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="va">sp_list</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grep</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">gift_sp</span><span class="op">$</span><span class="va">work_species</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">gift_sp</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="va">sp_list</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grep</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">gift_sp</span><span class="op">$</span><span class="va">work_species</span><span class="op">)</span><span class="op">)</span>, <span class="op">]</span></span>
<span></span>
<span><span class="co"># With fuzzy matching</span></span>
<span><span class="co"># library("fuzzyjoin")</span></span>
<span><span class="co"># library("dplyr")</span></span>
<span><span class="va">sp_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>work_species <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Anemona nemorosa"</span>, <span class="st">"Fagus sylvaticaaa"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">fuzz</span> <span class="op">&lt;-</span> <span class="fu">stringdist_join</span><span class="op">(</span><span class="va">sp_list</span>, <span class="va">gift_sp</span>,</span>
<span>                        by <span class="op">=</span> <span class="st">"work_species"</span>,</span>
<span>                        mode <span class="op">=</span> <span class="st">"left"</span>,</span>
<span>                        ignore_case <span class="op">=</span> <span class="cn">FALSE</span>, </span>
<span>                        method <span class="op">=</span> <span class="st">"jw"</span>, </span>
<span>                        max_dist <span class="op">=</span> <span class="fl">99</span>, </span>
<span>                        distance_col <span class="op">=</span> <span class="st">"dist"</span><span class="op">)</span> </span>
<span></span>
<span><span class="va">fuzz</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">work_species.x</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice_min</a></span><span class="op">(</span>order_by <span class="op">=</span> <span class="va">dist</span>, n <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="taxonomy">7. Taxonomy<a class="anchor" aria-label="anchor" href="#taxonomy"></a>
</h2>
<p>The taxonomy used in GIFT database can be downloaded using
<code><a href="../reference/GIFT_taxonomy.html">GIFT_taxonomy()</a></code>.</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">taxo</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GIFT_taxonomy.html">GIFT_taxonomy</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><br></p>
</div>
<div class="section level2">
<h2 id="overlap_glonaf-tables-and-others">8. Overlap_GloNAF tables (and others)<a class="anchor" aria-label="anchor" href="#overlap_glonaf-tables-and-others"></a>
</h2>
<p>Since other global databases of plant diversity exist and may be
based on different polygons, we provide a function
<code><a href="../reference/GIFT_overlap.html">GIFT_overlap()</a></code> than can look at the spatial overlap between
GIFT polygons and polygons coming from other databases. <br> So far,
only two resources are available: <code>glonaf</code> and
<code>gmba</code>. <code>glonaf</code> stands for <a href="https://glonaf.org/index.php/a-brief-history-of-glonaf/" class="external-link">Global
Naturalized Alien Flora</a> and <code>gmba</code> for <a href="https://www.gmba.unibe.ch/" class="external-link">Global Mountain Biodiversity
Assessment</a>.</p>
<p><code><a href="../reference/GIFT_overlap.html">GIFT_overlap()</a></code> returns the spatial overlap in percent
for each pairwise combination of polygons between GIFT and the other
resource.</p>
<p>Let’s illustrate this with the GMBA shapefile.</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gmba_overlap</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GIFT_overlap.html">GIFT_overlap</a></span><span class="op">(</span>resource <span class="op">=</span> <span class="st">"gmba"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">kable</span><span class="op">(</span><span class="va">gmba_overlap</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="op">]</span>, <span class="st">"html"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">kable_styling</span><span class="op">(</span>full_width <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<table class="table table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:right;">
entity_ID
</th>
<th style="text-align:right;">
gmba_ID
</th>
<th style="text-align:right;">
overlap12
</th>
<th style="text-align:right;">
overlap21
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
12094
</td>
<td style="text-align:right;">
12159
</td>
<td style="text-align:right;">
0.1783509
</td>
<td style="text-align:right;">
0.7623728
</td>
</tr>
<tr>
<td style="text-align:right;">
12094
</td>
<td style="text-align:right;">
11134
</td>
<td style="text-align:right;">
0.0060051
</td>
<td style="text-align:right;">
0.9985861
</td>
</tr>
<tr>
<td style="text-align:right;">
12094
</td>
<td style="text-align:right;">
12218
</td>
<td style="text-align:right;">
0.1398757
</td>
<td style="text-align:right;">
0.7948085
</td>
</tr>
<tr>
<td style="text-align:right;">
12094
</td>
<td style="text-align:right;">
16791
</td>
<td style="text-align:right;">
0.0301742
</td>
<td style="text-align:right;">
0.9385561
</td>
</tr>
<tr>
<td style="text-align:right;">
12094
</td>
<td style="text-align:right;">
16809
</td>
<td style="text-align:right;">
0.0036777
</td>
<td style="text-align:right;">
0.9566831
</td>
</tr>
</tbody>
</table>
<p>We see that two overlap columns are returned: <code>overlap12</code>
and <code>overlap21</code>.<br>
The first column returns the overlap between the GIFT region and the
other resource. The second column returns the overlap between the other
resource and the GIFT region.<br>
For example, if we look at the polygon 11861 of GIFT:</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gmba_overlap</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">gmba_overlap</span><span class="op">$</span><span class="va">entity_ID</span> <span class="op">==</span> <span class="fl">11861</span> <span class="op">&amp;</span></span>
<span>                     <span class="va">gmba_overlap</span><span class="op">$</span><span class="va">gmba_ID</span> <span class="op">==</span> <span class="fl">731</span><span class="op">)</span>, <span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] entity_ID gmba_ID   overlap12 overlap21</span></span>
<span><span class="co">## &lt;0 rows&gt; (or 0-length row.names)</span></span></code></pre>
<p>The corresponding region is the Aisen province in Chile and it
overlaps at 95% with the GMBA polygon number 731.<br>
At the same time the GMBA polygon 731 only overlaps at 13% with the
Aisen province of Chile.<br>
This is because the corresponding mountain region is larger than the
GIFT region and encompasses it as we can see on this plot (the dark
polygon is the GIFT region):</p>
<p><img src="../reference/figures/Aisen_Chile_GMBA_overlap.png" width="50%" style="display: block; margin: auto;"></p>
<p><br></p>
</div>
<div class="section level2">
<h2 id="references-1">References<a class="anchor" aria-label="anchor" href="#references-1"></a>
</h2>
<p>Denelle, P., Weigelt, P., &amp; Kreft, H. (2023). GIFT—An R package
to access the Global Inventory of Floras and Traits. <em>Methods in
Ecology and Evolution</em>, 00, 1–11. <a href="https://doi.org/10.1111/2041-210X.14213" class="external-link">https://doi.org/10.1111/2041-210X.14213</a>.</p>
<p>Weigelt, P., König, C. &amp; Kreft, H. (2020) GIFT – A Global
Inventory of Floras and Traits for macroecology and biogeography.
<em>Journal of Biogeography</em>, <a href="https://doi.org/10.1111/jbi.13623" class="external-link">https://doi.org/10.1111/jbi.13623</a>.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Pierre Denelle, Patrick Weigelt.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
